# 瞳伴 (Tonbo) - 智能視覺助手

瞳伴是一個專為視障人士設計的智能助手應用，結合計算機視覺技術和語音提示，幫助用戶在日常生活中進行環境感知、文件閱讀和緊急求助。

## 🎯 核心功能

### 🏠 首頁與導航 ✅ **已完成**
- **語音歡迎**: 應用啟動時的語音引導和功能介紹
- **快速啟動面板**: 四大核心功能一鍵訪問
- **多語言支持**: 廣東話、英文、普通話三語言切換
- **方形按鈕設計**: 現代化的方形按鈕佈局
- **固定頂部區域**: 標題和按鈕區域固定，內容區域可滑動
- **緊急求助**: 長按3秒觸發緊急警報系統
- **震動反饋**: 觸控和操作反饋

### 🌍 環境感知 ✅ **已完成**
- **實時物體識別**: 基於TensorFlow Lite的YOLO模型檢測
- **高精準度檢測**: 優化的檢測參數，提高識別準確率
- **智能檢測限制**: 一次最多檢測2個物體，避免信息過載
- **檢測框顯示**: 實時在相機預覽上顯示檢測結果和文字標籤
- **智能檢測頻率**: 每3幀檢測一次，平衡性能和精準度
- **顏色分析**: 主要顏色、次要顏色、色調分析
- **光度檢測**: 亮度等級、對比度、光線方向分析
- **環境描述**: 綜合物體、顏色、光線的語音描述
- **實時語音播報**: 檢測結果的即時語音反饋，最多播報2個物體
- **性能優化**: 記憶體管理和實時處理優化
- **多語言支持**: 粵語、英文、簡體中文檢測結果
- **邊界框優化**: 精確的座標轉換和邊界檢查
- **檢測結果過濾**: 智能置信度過濾和結果排序

### 📖 文件與貨幣閱讀 ✅ **已完成**
- **OCR文字識別**: 基於Google ML Kit的中文文字識別
- **港幣識別**: 專門的港幣紙幣和硬幣識別系統
- **分離式功能**: 文字識別和貨幣識別獨立操作
- **大範圍掃描**: 優化的掃描區域指示
- **語音朗讀**: 識別結果的語音播報
- **方形按鈕設計**: 優化的無障礙按鈕布局
- **結果顯示優化**: 清晰的信息顯示和結果文字

### 🆘 緊急求助 ✅ **已完成**
- **緊急求助按鈕**: 長按3秒觸發緊急警報
- **緊急聯絡人管理**: 添加、編輯、刪除緊急聯絡人
- **求助信息配置**: 自定義緊急求助訊息
- **位置信息發送**: 自動發送當前位置信息
- **多種求助方式**: 電話、短信、位置共享
- **緊急設置頁面**: 完整的緊急求助配置界面

### ⚙️ 系統設定 ✅ **已完成**
- **語音調節**: 語速、音調、音量實時調整 (0-200%範圍)
- **無障礙設定**: 震動反饋、讀屏支援、手勢操作開關
- **設定持久化**: 自動保存和載入用戶設定
- **語音測試**: 即時預覽語音設定效果
- **設定重置**: 一鍵恢復預設值
- **多語言TTS**: 智能語音合成系統

### 🔍 尋找功能 ✅ **已完成**
- **標記個人物品**: 為重要物品添加標記
- **智能尋找**: 使用攝像頭尋找標記物品
- **位置記憶**: 記住物品位置
- **語音引導**: 尋找過程的語音提示

### 🆘 即時協助 🔄 **規劃中**
- **一鍵呼叫**: 快速聯繫志願者
- **快速訊息**: 預設緊急訊息
- **視訊通話**: 與志願者視訊連線

### 👤 用戶系統 ✅ **已完成**
- **登入/註冊**: 用戶賬戶管理系統
- **訪客模式**: 無需註冊即可使用
- **個人化設定**: 自定義設置同步
- **偏好設定**: 語音和界面偏好
- **Firebase準備**: 為雲端同步做準備

### 🚗 出行協助 ✅ **已完成**
- **導航功能**: 路線規劃和導航指引
- **交通信息**: 實時交通狀況查詢
- **天氣更新**: 當前天氣和預報信息
- **緊急位置分享**: 緊急情況下的位置共享
- **多語言支持**: 粵語、英文、簡體中文

### 📚 引導與簡介 ✅ **已完成**
- **啟動畫面**: 帶動畫的應用啟動頁面
- **無障礙設計**: 專為視障用戶優化的UI/UX
- **語音導航**: 每個頁面的語音引導
- **操作指引**: 詳細的操作說明和指引

## 🎨 界面設計 ✅ **已完成**

- **深色主題**: 減少視覺疲勞的黑色背景
- **高對比度**: 白色卡片配黑色背景，藍色強調色
- **大字體**: 清晰易讀的文字 (18-32sp)
- **觸控友好**: 大按鈕 (64-72dp) 和易點擊區域
- **方形設計**: 現代化的方形按鈕和卡片設計
- **固定頂部**: 標題和按鈕區域固定，內容可滑動
- **居中對齊**: 功能卡片文字居中顯示
- **掃描指示**: 大範圍掃描框指示

## 🚀 技術特點 ✅ **已實現**

- **TensorFlow Lite**: 離線物體檢測和識別
- **Google ML Kit**: OCR文字識別
- **CameraX**: 現代相機API支持
- **多語言TTS**: 智能語音合成系統
- **無障礙支持**: 完整的無障礙功能
- **實時處理**: 低延遲的圖像處理
- **記憶體優化**: 智能記憶體管理系統
- **設定持久化**: SharedPreferences設定保存
- **API兼容性**: 支援Android 5.0+ (API 21)
- **用戶管理**: 本地用戶狀態管理系統
- **Firebase準備**: 為雲端功能集成做準備
- **檢測優化**: 高精準度物體檢測算法
- **性能平衡**: 智能檢測頻率控制

## 📱 系統要求

- **Android 5.0 (API 21)** 或更高版本
- **攝像頭權限**: 後置攝像頭用於環境識別
- **麥克風權限**: 語音播報功能
- **震動權限**: 觸控反饋
- **網絡權限**: OCR和語音合成

## 🔧 開發進度

### ✅ **已完成功能** (95%)

- **首頁與導航**: 多語言支持、緊急求助、震動反饋、方形按鈕設計、固定頂部區域
- **環境感知**: 實時物體檢測、顏色分析、光度檢測、檢測框顯示、高精準度優化、性能平衡
- **文件閱讀**: OCR識別、港幣識別、語音朗讀、優化UI、分離式功能
- **緊急求助**: 完整的緊急求助系統、聯絡人管理、位置信息發送
- **系統設定**: 語音調節、無障礙設定、設定持久化、語音測試
- **尋找功能**: 物品標記、智能尋找、位置記憶、語音引導
- **用戶系統**: 登入註冊、訪客模式、個人化設定、Firebase準備
- **出行協助**: 導航功能、交通信息、天氣更新、緊急位置分享
- **啟動畫面**: 動畫效果和語音引導
- **無障礙設計**: 完整的視障用戶優化、居中對齊、大字體設計
- **技術架構**: 基礎框架和核心管理器、設定管理系統

### 🔄 **規劃中功能** (5%)

- **即時協助**: 志願者網絡和視訊通話
- **Firebase集成**: 雲端數據同步和用戶管理
- **YOLO模型集成**: 真實的YOLOv8模型文件集成

## 🛠️ 技術架構

### **核心組件**
- `TTSManager`: 多語言語音合成管理、語音調節功能
- `VibrationManager`: 震動反饋管理、開關控制
- `BaseAccessibleActivity`: 無障礙基礎活動、通用功能
- `ObjectDetectorHelper`: TensorFlow Lite物體檢測、高精準度優化、智能檢測限制
- `YoloDetector`: YOLO模型檢測器、真實AI檢測、備用檢測系統
- `ColorLightingAnalyzer`: 顏色和光度分析
- `OCRHelper`: Google ML Kit文字識別
- `CurrencyDetector`: 港幣識別系統
- `DetectionOverlayView`: 檢測框覆蓋層、精確座標轉換、邊界框限制
- `EmergencyManager`: 緊急求助管理系統
- `UserManager`: 用戶狀態管理、登入系統
- `LocaleManager`: 多語言本地化管理
- `FindItemsActivity`: 物品尋找功能
- `TravelAssistantActivity`: 出行協助功能

### **主要頁面**
- `MainActivity`: 首頁功能選擇、固定頂部設計
- `EnvironmentActivity`: 環境識別和實時檢測、高精準度優化
- `DocumentCurrencyActivity`: 文件和貨幣閱讀
- `EmergencySettingsActivity`: 緊急求助設置
- `SettingsActivity`: 系統設定和語音調節
- `LoginActivity`: 用戶登入和訪客模式
- `SplashActivity`: 啟動畫面、登入狀態檢查
- `FindItemsActivity`: 物品標記和尋找
- `TravelAssistantActivity`: 出行協助功能

## 📸 功能截圖

### 首頁界面
- 四大核心功能卡片式布局
- 方形按鈕設計 (🚨⚙廣)
- 固定頂部區域設計
- 居中對齊的功能描述
- 多語言切換支持
- 緊急求助按鈕

### 登入系統
- 用戶登入界面
- 訪客模式選項
- 多語言登入支持
- Firebase準備集成

### 環境識別
- 實時物體檢測框顯示（最多2個邊界框）
- 高精準度檢測結果
- 檢測結果文字標籤（最多2個物體）
- 顏色和光度分析結果
- 檢測狀態和結果文字顯示
- 相機控制和閃光燈
- 智能檢測頻率控制
- 邊界框座標優化

### 文件閱讀
- 大範圍掃描框指示
- 方形按鈕設計
- OCR文字識別結果
- 港幣識別功能
- 分離式操作模式

### 尋找功能
- 物品標記界面
- 智能尋找功能
- 位置記憶系統
- 語音引導操作

### 出行協助
- 導航功能界面
- 交通信息查詢
- 天氣更新顯示
- 緊急位置分享

### 緊急求助設置
- 緊急聯絡人管理
- 求助信息配置
- 位置信息發送
- 多種求助方式

### 系統設定
- 語音調節 (語速、音調、音量)
- 無障礙設定開關
- 語音測試功能
- 設定重置選項

## 🎯 最新優化 (v2.1)

### 🔧 **環境識別優化**
- **智能檢測限制**: 一次最多檢測2個物體，避免信息過載
- **邊界框優化**: 最多顯示2個邊界框，界面更簡潔
- **語音播報優化**: 最多播報2個物體，語音更簡潔
- **檢測結果過濾**: 智能置信度過濾和結果排序
- **座標轉換優化**: 精確的邊界框座標處理
- **性能平衡**: 每3幀檢測一次，平衡性能和精準度

### 🎨 **用戶體驗改進**
- **簡潔界面**: 移除冗餘的檢測結果標題
- **一致性設計**: 檢測、邊界框、文字、語音完全一致
- **無障礙優化**: 專為視障用戶優化的簡潔體驗
- **智能排序**: 按置信度排序，優先顯示最確定的物體

### 📱 **技術改進**
- **YOLO檢測器重構**: 移除模擬數據，實現真實AI檢測
- **備用檢測系統**: 模型不可用時自動切換到特徵檢測
- **記憶體優化**: 智能記憶體管理和資源回收
- **錯誤處理**: 完善的異常處理機制

---

## 🔧 安裝與使用

### 編譯要求
- Android Studio Arctic Fox 或更新版本
- Android SDK API 21+
- Gradle 8.0+

### 編譯步驟
```bash
git clone https://github.com/Charlieppy2/Tonbo_App.git
cd Tonbo_App/Tonbo_App/Tonbo_App
./gradlew assembleDebug
```

### 使用指南
1. 安裝APK到Android設備
2. 授予攝像頭、麥克風、震動權限
3. 啟動應用，選擇登入或訪客模式
4. 聽取語音引導，使用語音導航操作各功能
5. 在環境識別中享受高精準度檢測（最多2個物體）
6. 使用尋找功能標記和尋找個人物品
7. 利用出行協助功能獲取導航和交通信息
8. 體驗簡潔的檢測結果顯示和語音播報

## 🤝 貢獻

歡迎開發者參與貢獻，特別是以下領域的專家：
- **計算機視覺算法**: 物體檢測、OCR優化
- **無障礙技術**: 視障用戶體驗優化
- **Android開發**: 性能優化、UI/UX改進
- **語音合成技術**: TTS質量提升

### 貢獻指南
1. Fork 本項目
2. 創建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 開啟 Pull Request

## 📄 授權

本項目採用 MIT 授權，詳細信息請查看 [LICENSE](LICENSE) 文件。

## 📞 聯繫方式

- **項目維護者**: Charlie
- **GitHub**: [Charlieppy2](https://github.com/Charlieppy2)
- **項目地址**: [Tonbo_App](https://github.com/Charlieppy2/Tonbo_App)

---

**瞳伴** - 讓科技成為視障人士的視覺夥伴 🌟
